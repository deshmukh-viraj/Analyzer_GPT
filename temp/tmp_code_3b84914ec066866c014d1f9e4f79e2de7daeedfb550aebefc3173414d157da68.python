import subprocess

try:
    subprocess.check_call(['pip', 'install', 'pandas'])
    print("Pandas installed successfully.")
except subprocess.CalledProcessError as e:
    print(f"Error installing pandas: {e}")
    print("Task incomplete: Could not install pandas.")
except FileNotFoundError:
    print("Error: pip command not found. Please ensure pip is installed.")
    print("Task incomplete: Could not install pandas.")
except Exception as e:
    print(f"An unexpected error occurred during installation: {e}")
    print("Task incomplete: Could not install pandas.")

try:
    import pandas as pd

    df = pd.read_csv("titanic.csv")
    rows = df.shape[0]
    cols = df.shape[1]

    print(f"Number of rows: {rows}")
    print(f"Number of columns: {cols}")
    print("Task completed: Printed the number of rows and columns in the titanic.csv file.")

except FileNotFoundError:
    print("Error: The file 'titanic.csv' was not found in the working directory.")
    print("Task incomplete: Could not find the file.")
except Exception as e:
    print(f"An error occurred: {e}")
    print("Task incomplete: An error occurred while processing the file.")
