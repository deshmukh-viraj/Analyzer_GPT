import pandas as pd
import matplotlib.pyplot as plt

# Load the dataset
try:
    titanic_df = pd.read_csv("titanic.csv")
except FileNotFoundError:
    print("Error: The file 'titanic.csv' was not found.  Please make sure the file is in the correct directory.")
    exit()

# Data Cleaning: Handle missing values in 'Survived' column if any, filling with a placeholder
titanic_df['Survived'] = titanic_df['Survived'].fillna(-1)

# Data Preparation: Convert 'Survived' to integer type
titanic_df['Survived'] = titanic_df['Survived'].astype(int)

# Count the number of survivors and deceased
survival_counts = titanic_df['Survived'].value_counts()

# Create the bar graph
plt.figure(figsize=(8, 6))
survival_counts.plot(kind='bar')
plt.title('Survival Count in Titanic')
plt.xlabel('Survived (0 = No, 1 = Yes)')
plt.ylabel('Number of Passengers')
plt.xticks(rotation=0)

# Replace default labels with more descriptive ones, considering the potential -1 values from filling NaN values
labels = ['No' if i == 0 else 'Yes' if i == 1 else 'Unknown' for i in survival_counts.index]
plt.xticks(range(len(labels)), labels)


# Save the graph
plt.savefig("output.png")

print("Graph of survived and died passengers created and saved as output.png")
