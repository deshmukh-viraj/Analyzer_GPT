import subprocess
import sys

def install_and_import(package):
    try:
        __import__(package)
    except ImportError:
        subprocess.check_call([sys.executable, "-m", "pip", "install", package])
    finally:
        globals()[package] = __import__(package)

install_and_import('pandas')

import pandas as pd

try:
    # Read the CSV file into a pandas DataFrame
    df = pd.read_csv("titanic.csv")

    # Get the number of rows and columns
    num_rows, num_columns = df.shape

    # Print the result
    print(f"The titanic.csv dataset has {num_rows} rows and {num_columns} columns.")

except FileNotFoundError:
    print("Error: The file 'titanic.csv' was not found in the working directory.")
except Exception as e:
    print(f"An error occurred: {e}")

print("Task completed.")
