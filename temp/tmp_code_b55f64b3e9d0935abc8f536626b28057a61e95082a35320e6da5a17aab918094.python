import subprocess
import os

try:
    # Try to import pandas
    import pandas as pd
except ImportError:
    # If pandas is not installed, install it using pip
    subprocess.check_call(["python", "-m", "pip", "install", "pandas"])
    import pandas as pd

try:
    # Attempt to read the CSV file into a pandas DataFrame
    filename = "directory.csv"  # Reset to original filename
    if not os.path.exists(filename):
        raise FileNotFoundError(f"Error: The file '{filename}' was not found in the current directory.  Please ensure that a CSV file named '{filename}' is present.")

    df = pd.read_csv(filename)

    # Get the number of rows and columns
    num_rows, num_columns = df.shape

    # Print the results
    print(f"The CSV file '{filename}' has {num_rows} rows and {num_columns} columns.")

except FileNotFoundError as e:
    print(e)
except Exception as e:
    print(f"An error occurred: {e}")

print("Task completed.")
