import subprocess

try:
    # Install pandas using pip
    subprocess.check_call(['pip', 'install', 'pandas'])
    print("Pandas installed successfully.")
except subprocess.CalledProcessError as e:
    print(f"Error installing pandas: {e}")
    print("Task Failed: Could not install pandas.")
    exit()

import pandas as pd

# Read the CSV file into a pandas DataFrame
try:
    df = pd.read_csv("titanic.csv")

    # Get the number of columns
    num_cols = df.shape[1]

    # Print the result
    print(f"The number of columns in the CSV file is: {num_cols}")
    print("Task Completed")

except FileNotFoundError:
    print("Error: The file 'titanic.csv' was not found in the current directory.")
    print("Task Failed: File not found.")
except Exception as e:
    print(f"An error occurred: {e}")
    print("Task Failed: An unexpected error occurred.")
