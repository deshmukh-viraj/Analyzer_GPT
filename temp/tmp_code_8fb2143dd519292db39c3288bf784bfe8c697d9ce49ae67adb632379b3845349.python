import subprocess

try:
    # Install pandas using pip
    subprocess.check_call(['pip', 'install', 'pandas'])
    print("pandas installed successfully.")

    import pandas as pd

    # Load the CSV file into a pandas DataFrame
    try:
        df = pd.read_csv("your_file.csv")  # Replace "your_file.csv" with the actual file name
    except FileNotFoundError:
        print("Error: The file 'your_file.csv' was not found. Please make sure the file exists and the path is correct.")
        exit() # Exit the script if the file is not found

    # Get the number of columns
    num_columns = df.shape[1]

    # Print the number of columns
    print(f"The dataset has {num_columns} columns.")

    print("Task completed successfully.")

except subprocess.CalledProcessError as e:
    print(f"Error installing packages: {e}")
except ModuleNotFoundError as e:
    print(f"Module not found: {e}. Please make sure all necessary libraries are installed.")
except Exception as e:
    print(f"An error occurred: {e}")
